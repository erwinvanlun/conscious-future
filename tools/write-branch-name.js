/*
** This script will be executed by .husky post-checkout hook
 */
const {execSync} = require('child_process');
const fs = require('fs');

const branchName = execSync('git rev-parse --abbrev-ref HEAD').toString().trim();

const branchFilePath = './tools/git-branch.const.js';
const branchFileContent =
    `// DO NOT EDIT THIS FILE
// This file is automatically generated by a post-checkout Husky hook to update with the current Git branch name.
export const GIT_BRANCH = '${branchName}';\n`;

fs.writeFileSync(branchFilePath, branchFileContent);
